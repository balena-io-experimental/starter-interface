"use strict";(self.webpackChunkbalena_labs_docs=self.webpackChunkbalena_labs_docs||[]).push([[239],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),l=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=l(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),d=l(n),h=a,m=d["".concat(s,".").concat(h)]||d[h]||u[h]||i;return n?r.createElement(m,o(o({ref:t},c),{},{components:n})):r.createElement(m,o({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p.mdxType="string"==typeof e?e:a,o[1]=p;for(var l=2;l<i;l++)o[l]=n[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},170:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>p,toc:()=>l});var r=n(7462),a=(n(7294),n(3905));const i={},o=void 0,p={unversionedId:"Customising the Environment/Architecture",id:"Customising the Environment/Architecture",title:"Architecture",description:"This project is a monorepo, built around a front and backend. Both are compiled together at build time, serving the frontend from the Express backend. The below outlines the structure of the project, highlighting only the key areas where interaction tends to be needed:",source:"@site/docs/Customising the Environment/Architecture.md",sourceDirName:"Customising the Environment",slug:"/Customising the Environment/Architecture",permalink:"/starter-interface/Customising the Environment/Architecture",draft:!1,editUrl:"https://github.com/balena-labs-research/starter-interface/edit/main/docs/Customising the Environment/Architecture.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"System Info",permalink:"/starter-interface/Built-in components/System Info"},next:{title:"Customising Page Content",permalink:"/starter-interface/Customising the Environment/Customising Page Content"}},s={},l=[{value:"SPA (Single Page Application)",id:"spa-single-page-application",level:2},{value:"Captive portal",id:"captive-portal",level:3},{value:"Electron App",id:"electron-app",level:2},{value:"PWA App",id:"pwa-app",level:2}],c={toc:l};function u(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This project is a monorepo, built around a front and backend. Both are compiled together at build time, serving the frontend from the Express backend. The below outlines the structure of the project, highlighting only the key areas where interaction tends to be needed:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"./ # Docker build files and top level package.json\n\u251c\u2500\u2500 expressjs/ # Backend\n    \u251c\u2500\u2500 src/ # ExpressJS source\n        \u251c\u2500\u2500 boot/ # Boot files for the Express app\n        \u251c\u2500\u2500 routes/ # ExpressJS routes for handling API endpoints\n\u251c\u2500\u2500 ui/ # Vue app\n    \u251c\u2500\u2500 public/ # Static files available from the URL after being built\n    \u251c\u2500\u2500 src/ # Vue source\n        \u251c\u2500\u2500 api/ # Supervisor and SDK request functions\n        \u251c\u2500\u2500 boot/ # Boot files for the Vue app\n        \u251c\u2500\u2500 components/ # Vue components\n        \u251c\u2500\u2500 layouts/ # Vue layouts\n        \u251c\u2500\u2500 config/ #\xa0Language and style configuration of the app\n        \u251c\u2500\u2500 i18n/ # Translation files\n        \u251c\u2500\u2500 pages/ # Vue pages\n")),(0,a.kt)("p",null,"Each of the components of the project have their own build and development processes, but each can access and share the same Vue page sources all stored in ",(0,a.kt)("inlineCode",{parentName:"p"},"ui/src/pages")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"ui/src/layouts"),". Due to the different purposes of the SPA, Electron and PWA apps, each has it's own entry point where you can configure how each should start and be used."),(0,a.kt)("h2",{id:"spa-single-page-application"},"SPA (Single Page Application)"),(0,a.kt)("p",null,"Single page applications are the default build process, run with ",(0,a.kt)("inlineCode",{parentName:"p"},"yarn dev")," and built with ",(0,a.kt)("inlineCode",{parentName:"p"},"yarn build"),". The entry point for these applications is ",(0,a.kt)("inlineCode",{parentName:"p"},"ui/src/App.vue"),"."),(0,a.kt)("h3",{id:"captive-portal"},"Captive portal"),(0,a.kt)("p",null,"The Captive portal is only useful on the SPA builds. It is stored in ",(0,a.kt)("inlineCode",{parentName:"p"},"ui/layouts/CaptivePortal.vue"),"."),(0,a.kt)("h2",{id:"electron-app"},"Electron App"),(0,a.kt)("p",null,"The Electron App has a different entry point, as the purpose of this app is distinct from the SPA. It's entry point is ",(0,a.kt)("inlineCode",{parentName:"p"},"ui/layouts/ElectronLayout.vue"),". It is run with ",(0,a.kt)("inlineCode",{parentName:"p"},"yarn dev-electron")," and built with ",(0,a.kt)("inlineCode",{parentName:"p"},"yarn build-electron"),"."),(0,a.kt)("h2",{id:"pwa-app"},"PWA App"),(0,a.kt)("p",null,"The PWA App also has it's own entry point: ",(0,a.kt)("inlineCode",{parentName:"p"},"ui/layouts/PwaLayout.vue"),". It is run with ",(0,a.kt)("inlineCode",{parentName:"p"},"yarn dev-pwa")," and built with ",(0,a.kt)("inlineCode",{parentName:"p"},"yarn build-pwa"),"."))}u.isMDXComponent=!0}}]);